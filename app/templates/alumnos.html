{% extends './layout_admin.html' %}

{% block title %} {{titulo}} {% endblock %}

{% block body %}


{% with messages = get_flashed_messages() %}
  {% if messages %}
    {% for message in messages %}
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        <strong>{{message}}</strong>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    {% endfor %}
  {% endif %}
{% endwith %}

    <a href="{{url_for('alumnos_nuevo')}}" class="btn btn-primary"><i class="fas fa-plus-circle"></i> Nuevo</a>


    <table class="table table-striped table-sm table-hover">
        <tr>
            <th class="text-center">Editar</th>
            <th class="text-center">Ver</th>
            <th>Nombre</th>
            <th>Estado</th>
            <th class="text-center">Eliminar</th>
        </tr>
        {% if alumnos %}
        {% for alumno in alumnos %}
            <tr>
                <td class="text-center"><a class="btn btn-primary" href="{{url_for('alumnos_editar', id=alumno[0])}}"><i class="fas fa-edit"></i></a></td>
                <td class="text-center"><a class="btn btn-primary" href="{{url_for('alumnos_detalles', id=alumno[0])}}"><i class="fas fa-eye"></i></i></a></td>
                <td>{{ alumno[1] }} {{ alumno[2] }} {{ alumno[3] }}</td>
                {% if alumno.4==true %}
                <td style="color: green">
                    Activo
                </td>
                    {% else %}
                <td style="color: red">
                    Baja
                </td>
                {% endif %}
                <td class="text-center">
                    <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#staticBackdrop-{{alumno.0}}">
                        <i class="fas fa-trash-alt"></i>
                    </button>
                </td>
            </tr>
        {% endfor %}
        {% else %}
            <tr>
                <td align="center" colspan="8">No existen {{titulo}}</td>
            </tr>
        {% endif %}
    </table>
    <a href="{{url_for('index')}}">Inicio</a>
  
    {% if alumnos %}
        {% for alumno in alumnos %}
        <div class="modal fade" id="staticBackdrop-{{alumno.0}}" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                <h5 class="modal-title" id="staticBackdropLabel">Confirmar acción</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                ¿Deseas eliminar a <strong>{{ alumno[1] }} {{ alumno[2] }} {{ alumno[3] }}</strong>?
                </div>
                <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <a class="btn btn-danger" href="{{url_for('alumnos_eliminar', id=alumno[0])}}" class="btn-delete"><i class="fas fa-trash-alt"></i> Eliminar</a>
                </div>
            </div>
            </div>
        </div>
        {% endfor %}
    {% else %}
    {% endif %}


{% endblock %}